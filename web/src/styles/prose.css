/* Protocol-inspired prose styles for markdown content */

.prose {
  color: rgb(63 63 70); /* zinc-700 */
  font-size: 0.875rem; /* 14px - standard readable size */
  line-height: 1.6; /* comfortable line height */
}

/* Spacing rules */
.prose p {
  margin-top: 0.5rem; /* 8px - tighter */
  margin-bottom: 0.5rem; /* 8px - tighter */
}

.prose > :first-child {
  margin-top: 0 !important;
}

.prose > :last-child {
  margin-bottom: 0 !important;
}

/* Headings */
.prose h1 {
  color: rgb(24 24 27); /* zinc-900 */
  font-weight: 700;
  font-size: 1.375rem; /* 22px */
  line-height: 1.75rem;
  margin-top: 1.5rem;
  margin-bottom: 0.5rem;
}

.prose h2 {
  color: rgb(24 24 27);
  font-weight: 600;
  font-size: 1.125rem; /* 18px */
  line-height: 1.5rem;
  margin-top: 1.25rem;
  margin-bottom: 0.375rem;
}

.prose h3 {
  color: rgb(24 24 27);
  font-weight: 600;
  font-size: 1rem; /* 16px */
  line-height: 1.375rem;
  margin-top: 1rem;
  margin-bottom: 0.25rem;
}

.prose h4 {
  color: rgb(24 24 27);
  font-weight: 600;
  font-size: 0.875rem; /* 14px */
  line-height: 1.25rem;
  margin-top: 0.875rem;
  margin-bottom: 0.25rem;
}

/* Links */
.prose a {
  color: rgb(16 185 129); /* emerald-500 */
  text-decoration: underline transparent;
  font-weight: 500;
  transition:
    color 0.2s,
    text-decoration-color 0.2s;
}

.prose a:hover {
  color: rgb(5 150 105); /* emerald-600 */
  text-decoration-color: color-mix(in oklab, rgb(16 185 129) 30%, transparent);
}

/* Lists */
.prose ol {
  list-style: decimal;
  margin-top: 0.5rem;
  margin-bottom: 0.5rem;
  padding-left: 1.5rem;
}

.prose ul {
  list-style: disc;
  margin-top: 0.5rem;
  margin-bottom: 0.5rem;
  padding-left: 1.5rem;
}

.prose li {
  margin-top: 0.125rem;
  margin-bottom: 0.125rem;
}

/* Horizontal rule */
.prose hr {
  height: 1px;
  border: 0;
  background-image: linear-gradient(
    to right,
    transparent,
    rgba(0, 0, 0, 0.15),
    transparent
  );
  background-repeat: no-repeat;
  background-size: 100% 100%;
  display: block;
  margin: 1.5rem 0; /* 24px */
}

/* Blockquote */
.prose blockquote {
  font-weight: 500;
  font-style: italic;
  color: rgb(82 82 91); /* zinc-600 */
  border-left: 3px solid rgb(16 185 129); /* emerald-500 accent */
  margin-top: 1rem;
  margin-bottom: 1rem;
  padding-left: 1rem;
  padding-top: 0.5rem;
  padding-bottom: 0.5rem;
  background: rgb(240 253 244 / 0.5); /* emerald-50/50 */
  border-top-right-radius: 0.375rem;
  border-bottom-right-radius: 0.375rem;
  padding-right: 0.75rem;
}

/* Tables */
.prose table {
  width: 100%;
  table-layout: auto;
  text-align: left;
  margin-top: 1.5rem;
  margin-bottom: 1.5rem;
  border-collapse: separate;
  border-spacing: 0;
  font-size: 0.875rem;
}

.prose thead {
  background: linear-gradient(
    to bottom,
    rgb(250 250 250),
    rgb(244 244 245)
  ); /* zinc-50 to zinc-100 */
  border-bottom: 2px solid rgb(16 185 129); /* emerald-500 accent */
}

.prose thead th {
  color: rgb(39 39 42); /* zinc-800 */
  font-weight: 600;
  vertical-align: middle;
  padding: 0.875rem 1rem;
  text-align: left;
  letter-spacing: 0.025em;
  font-size: 0.8125rem; /* slightly smaller */
  text-transform: uppercase;
}

.prose thead th:first-child {
  border-top-left-radius: 0.5rem;
}

.prose thead th:last-child {
  border-top-right-radius: 0.5rem;
}

.prose tbody tr {
  border-bottom: 1px solid rgb(244 244 245); /* zinc-100 */
  transition: background-color 0.15s ease;
}

.prose tbody tr:hover {
  background-color: rgb(250 250 250); /* zinc-50 */
}

.prose tbody tr:last-child {
  border-bottom: none;
}

.prose tbody tr:last-child td:first-child {
  border-bottom-left-radius: 0.5rem;
}

.prose tbody tr:last-child td:last-child {
  border-bottom-right-radius: 0.5rem;
}

.prose :is(tbody, tfoot) td {
  padding: 0.875rem 1rem;
  color: rgb(63 63 70); /* zinc-700 */
  vertical-align: middle;
}

/* Inline code */
.prose code {
  color: rgb(63 63 70); /* zinc-700 */
  border-radius: 0.25rem;
  padding: 0.125rem 0.375rem;
  background-color: rgb(244 244 245); /* zinc-100 */
  font-size: 0.875rem;
  font-weight: 400;
}

/* Ensure block code isn't styled like inline code */
.prose pre code {
  box-shadow: none !important;
  background: transparent !important;
  padding: 0 !important;
  border-radius: 0 !important;
}

/* Media */
.prose img,
.prose video,
.prose figure {
  margin-top: 1rem;
  margin-bottom: 1rem;
}

.prose figcaption {
  color: rgb(113 113 122); /* zinc-500 */
  font-size: 0.75rem; /* text-xs */
  line-height: 1rem;
  margin-top: 0.375rem;
}

/* Overrides for adjacent spacing */
.prose :is(h1, h2, h3, h4) + * {
  margin-top: 0;
}

/* Dark mode */
.dark .prose {
  color: rgb(212 212 216); /* zinc-300 */
}

.dark .prose h1,
.dark .prose h2,
.dark .prose h3,
.dark .prose h4 {
  color: rgb(250 250 250);
}

.dark .prose a {
  color: rgb(52 211 153);
}
.dark .prose a:hover {
  color: rgb(110 231 183);
}

.dark .prose hr {
  background-image: linear-gradient(
    to right,
    transparent,
    rgba(255, 255, 255, 0.15),
    transparent
  );
  background-repeat: no-repeat;
  background-size: 100% 100%;
  display: block;
}

.dark .prose blockquote {
  color: rgb(212 212 216); /* zinc-300 */
  border-left-color: rgb(16 185 129); /* emerald-500 accent */
  background: rgb(6 78 59 / 0.2); /* emerald-900/20 */
}

.dark .prose code {
  color: rgb(228 228 231); /* zinc-200 */
  background-color: rgb(63 63 70); /* zinc-700 */
}

.dark .prose pre code {
  background: transparent !important;
  box-shadow: none !important;
}

/* Dark mode tables */
.dark .prose thead {
  background: linear-gradient(
    to bottom,
    rgb(39 39 42),
    rgb(24 24 27)
  ); /* zinc-800 to zinc-900 */
  border-bottom-color: rgb(16 185 129); /* emerald-500 accent */
}

.dark .prose thead th {
  color: rgb(244 244 245); /* zinc-100 */
}

.dark .prose tbody tr {
  border-bottom-color: rgb(39 39 42); /* zinc-800 */
}

.dark .prose tbody tr:hover {
  background-color: rgb(39 39 42 / 0.5); /* zinc-800/50 */
}

.dark .prose tbody td {
  color: rgb(212 212 216); /* zinc-300 */
}
